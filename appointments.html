<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Appointments - Yanet Dental Clinic</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

<!-- HEADER -->
<header class="bg-[#E6F7F9] shadow-sm border-b border-gray-200 fixed top-0 left-0 w-full z-50 backdrop-blur-sm">
  <div class="container mx-auto flex items-center justify-between px-4 py-2 sm:py-3">
    
    <!-- Left side: Logo -->
    <div class="flex items-center space-x-2">
      <img src="images/teeth_logo_circle.png" alt="Tooth Logo" class="w-10 h-10 rounded-full object-cover">
    </div>

    <!-- Center: Clinic Title -->
    <div class="flex flex-col items-center leading-tight flex-grow text-center">
      <h1 class="font-extrabold text-lg sm:text-xl tracking-wide text-[#2563EB]">
        YANET SPECIALITY
      </h1>
      <h2 class="font-extrabold text-base sm:text-lg tracking-wide text-[#2563EB]">
        DENTAL CLINIC
      </h2>
    </div>

    <!-- Right side: Call Us -->
    <div class="flex items-center space-x-2">
      <a href="tel:0116662828" 
         class="flex items-center space-x-1 bg-[#2563EB] text-white text-xs sm:text-sm font-semibold px-2.5 py-1 rounded-md hover:bg-blue-700 transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M3 5a2 2 0 012-2h2.28a1 1 0 01.948.684l1.518 4.553a1 1 0 01-.272 1.023l-1.3 1.3a16 16 0 006.586 6.586l1.3-1.3a1 1 0 011.023-.272l4.553 1.518A1 1 0 0121 18.72V21a2 2 0 01-2 2h-1c-9.941 0-18-8.059-18-18V5z" />
        </svg>
        <span>Call Us</span>
      </a>
    </div>
  </div>
</header>

  <!-- PAGE CONTENT -->
  <main class="flex-1 px-4 pt-24 pb-24">

    <!-- Horizontal Tabs -->
    <div class="border-b border-gray-200 mb-6">
      <nav class="flex justify-around">
        <button class="tab-button py-3 px-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent" data-tab="book">Book Appointment Today</button>
        <button class="tab-button py-3 px-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent" data-tab="reschedule">Reschedule Book</button>
        <button class="tab-button py-3 px-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent" data-tab="recovery">Recovery Journey</button>
        <button class="tab-button py-3 px-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent" data-tab="before">Before Treatment</button>
      </nav>
    </div>

    <!-- TAB CONTENTS -->
<form id="appointmentForm">
  <input type="text" id="name" placeholder="Name" required>
  <input type="tel" id="phone" placeholder="Phone" required>
  <input type="email" id="email" placeholder="Email">
  <button type="submit">Submit</button>
</form>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabaseUrl = "YOUR_SUPABASE_URL"; // replace with your Supabase URL
  const supabaseKey = "YOUR_SUPABASE_ANON_KEY"; // replace with your anon key
  const supabase = supabase.createClient(supabaseUrl, supabaseKey);

  document.getElementById("appointmentForm").addEventListener("submit", async function(e){
    e.preventDefault();
    
    const name = document.getElementById("name").value;
    const phone = document.getElementById("phone").value;
    const email = document.getElementById("email").value;

    const { data, error } = await supabase
      .from("appointments")
      .insert([{ name, phone, email }]);

    if(error){
      alert("Error: " + error.message);
    } else {
      alert("Test appointment submitted!");
      document.getElementById("appointmentForm").reset();
    }
  });
</script>
    <!-- Book Appointment -->
    <div id="book" class="tab-content">
      <h2 class="text-2xl font-bold text-center">Book Appointment Today</h2>
      <p class="text-center text-gray-600 mt-2">Schedule your visit with our dental specialists.</p>

      <form id="appointmentForm" class="mt-6 space-y-4 max-w-md mx-auto bg-white p-6 rounded-xl shadow-md">
        <div>
          <label class="block font-medium">Full Name</label>
          <input id="name" type="text" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Phone Number</label>
          <input id="phone" type="tel" class="w-full border rounded-lg px-3 py-2 mt-1" placeholder="+251..." required>
        </div>
        <div>
          <label class="block font-medium">Select Service</label>
          <select id="service" class="w-full border rounded-lg px-3 py-2 mt-1" required>
            <option value="">-- Choose a Service --</option>
            <option value="Cleaning">Dental Cleaning</option>
            <option value="Tooth Extraction">Tooth Extraction</option>
            <option value="Root Canal">Root Canal</option>
            <option value="Filling">Tooth Filling</option>
            <option value="Braces Consultation">Braces Consultation</option>
            <option value="Whitening">Teeth Whitening</option>
          </select>
        </div>
        <div>
          <label class="block font-medium">Preferred Date</label>
          <input id="date" type="date" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Additional Notes</label>
          <textarea id="message" class="w-full border rounded-lg px-3 py-2 mt-1" rows="3"></textarea>
        </div>
        <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg font-semibold">Book Now</button>
        <p id="responseMsg" class="text-center mt-2"></p>
      </form>
    </div>

    <!-- Reschedule -->
    <div id="reschedule" class="tab-content">
      <h2 class="text-2xl font-bold text-center">Reschedule Appointment</h2>
      <p class="text-center text-gray-600 mt-2">Update your appointment details.</p>

      <form id="rescheduleForm" class="mt-6 space-y-4 max-w-md mx-auto bg-white p-6 rounded-xl shadow-md">
        <div>
          <label class="block font-medium">Full Name</label>
          <input id="r_name" type="text" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Old Appointment Date</label>
          <input id="r_oldDate" type="date" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">New Preferred Date</label>
          <input id="r_newDate" type="date" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Reason for Reschedule</label>
          <textarea id="r_reason" class="w-full border rounded-lg px-3 py-2 mt-1" rows="3"></textarea>
        </div>
        <button type="submit" class="w-full bg-yellow-600 text-white py-2 rounded-lg font-semibold">Reschedule</button>
        <p id="rescheduleMsg" class="text-center mt-2"></p>
      </form>
    </div>

    <!-- Before Treatment -->
    <div id="before" class="tab-content">
      <h2 class="text-2xl font-bold text-center">Before Treatment</h2>
      <p class="text-center text-gray-600 mt-2">Help us prepare for your treatment.</p>

      <form id="beforeForm" class="mt-6 space-y-4 max-w-md mx-auto bg-white p-6 rounded-xl shadow-md">
        <div>
          <label class="block font-medium">Full Name</label>
          <input id="b_name" type="text" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Planned Treatment</label>
          <input id="b_treatment" type="text" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Preferred Date</label>
          <input id="b_date" type="date" class="w-full border rounded-lg px-3 py-2 mt-1" required>
        </div>
        <div>
          <label class="block font-medium">Medical Notes</label>
          <textarea id="b_notes" class="w-full border rounded-lg px-3 py-2 mt-1" rows="3"></textarea>
        </div>
        <button type="submit" class="w-full bg-purple-600 text-white py-2 rounded-lg font-semibold">Submit Info</button>
        <p id="beforeMsg" class="text-center mt-2"></p>
      </form>
    </div>

  </main>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = "https://YOUR_PROJECT_ID.supabase.co";
    const SUPABASE_ANON_KEY = "YOUR_PUBLIC_ANON_KEY";
    const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // Book Appointment
    document.getElementById("appointmentForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const { data, error } = await supabase.from("appointments").insert([{
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        service: document.getElementById("service").value,
        date: document.getElementById("date").value,
        message: document.getElementById("message").value
      }]);
      document.getElementById("responseMsg").innerText = error ? "❌ " + error.message : "✅ Appointment saved!";
      if (!error) e.target.reset();
    });

    // Reschedule
    document.getElementById("rescheduleForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const { data, error } = await supabase.from("reschedules").insert([{
        name: document.getElementById("r_name").value,
        old_date: document.getElementById("r_oldDate").value,
        new_date: document.getElementById("r_newDate").value,
        reason: document.getElementById("r_reason").value
      }]);
      document.getElementById("rescheduleMsg").innerText = error ? "❌ " + error.message : "✅ Reschedule saved!";
      if (!error) e.target.reset();
    });

    // Before Treatment
    document.getElementById("beforeForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const { data, error } = await supabase.from("pretreatments").insert([{
        name: document.getElementById("b_name").value,
        treatment: document.getElementById("b_treatment").value,
        date: document.getElementById("b_date").value,
        notes: document.getElementById("b_notes").value
      }]);
      document.getElementById("beforeMsg").innerText = error ? "❌ " + error.message : "✅ Info saved!";
      if (!error) e.target.reset();
    });
  </script>

  <!-- ✅ FINAL FIXED STICKY BOTTOM NAVIGATION -->
<nav class="fixed bottom-0 left-0 w-full bg-[#E6F7F9] border-t border-gray-200 shadow-sm flex justify-around py-2 z-50 backdrop-blur-sm">
  <!-- Home Button -->
  <a href="index.html" id="homeBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>🏠</span>
    <span class="text-xs">Home</span>
  </a>

  <!-- Blogs Button -->
  <a href="blogs.html" id="blogsBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>📝</span>
    <span class="text-xs">Blogs</span>
  </a>

  <!-- Giveaway Button -->
  <a href="giveaway.html" id="giveawayBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>🎁</span>
    <span class="text-xs">Giveaway</span>
  </a>

  <!-- Appointments Button -->
  <a href="appointments.html" id="appointmentsBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>🗓️</span>
    <span class="text-xs">Appointments</span>
  </a>

  <!-- Let's Talk Button -->
  <a href="chat.html" id="chatBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>💬</span>
    <span class="text-xs">Let’s Talk</span>
  </a>
</nav>

<!-- ✅ ACTIVE STYLE -->
<style>
  .active {
    color: #2563EB; /* theme blue */
    font-weight: bold;
  }
</style>

<!-- ✅ TAB SWITCHING SCRIPT -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const tabButtons = document.querySelectorAll(".tab-button");
    const tabContents = document.querySelectorAll(".tab-content");

    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        // Reset all
        tabButtons.forEach(b => b.classList.remove("border-blue-600", "text-blue-600"));
        tabContents.forEach(c => c.classList.add("hidden"));

        // Activate clicked
        btn.classList.add("border-blue-600", "text-blue-600");
        const target = btn.getAttribute("data-tab");
        document.getElementById(target).classList.remove("hidden");
      });
    });

    // Default: first tab active
    if (tabButtons.length > 0) {
      tabButtons[0].classList.add("border-blue-600", "text-blue-600");
      tabContents.forEach((c, i) => {
        if (i !== 0) c.classList.add("hidden");
      });
    }

    // ✅ Bottom Nav Highlight
    const path = window.location.pathname;
    if (path.includes("blogs")) {
      document.getElementById("blogsBtn").classList.add("active");
    } else if (path.includes("giveaway")) {
      document.getElementById("giveawayBtn").classList.add("active");
    } else if (path.includes("appointments")) {
      document.getElementById("appointmentsBtn").classList.add("active");
    } else if (path.includes("chat")) {
      document.getElementById("chatBtn").classList.add("active");
    } else {
      document.getElementById("homeBtn").classList.add("active");
    }
  });
</script>
</body>
</html>
