<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yanet Speciality Dental Clinic - Book & Reschedule</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

<!-- HEADER -->
<header class="bg-[#E6F7F9] shadow-sm border-b border-gray-200 fixed top-0 left-0 w-full z-50 backdrop-blur-sm">
  <div class="container mx-auto flex items-center justify-between px-4 py-2 sm:py-3">
    <div class="flex items-center space-x-2">
      <img src="images/teeth_logo_circle.png" alt="Tooth Logo" class="w-10 h-10 rounded-full object-cover">
    </div>
    <div class="flex flex-col items-center leading-tight flex-grow text-center">
      <h1 class="font-extrabold text-lg sm:text-xl tracking-wide text-[#2563EB]">YANET SPECIALITY</h1>
      <h2 class="font-extrabold text-base sm:text-lg tracking-wide text-[#2563EB]">DENTAL CLINIC</h2>
    </div>
    <div class="flex items-center space-x-2">
      <a href="tel:0116662828" class="flex items-center space-x-1 bg-[#2563EB] text-white text-xs sm:text-sm font-semibold px-2.5 py-1 rounded-md hover:bg-blue-700 transition">
        üìû Call Us
      </a>
    </div>
  </div>
</header>

<main class="flex-1 px-4 pt-28 pb-28">

  <!-- TAB BUTTONS -->
  <div class="flex justify-center mb-6 space-x-4">
    <button class="tab-btn border-b-2 border-transparent text-gray-500 font-semibold px-4 py-2" data-tab="bookTab">Book Appointment</button>
    <button class="tab-btn border-b-2 border-transparent text-gray-500 font-semibold px-4 py-2" data-tab="rescheduleTab">Reschedule Appointment</button>
  </div>

  <!-- TAB CONTENTS -->

<!-- Book Appointment Form -->
<div id="bookTab" class="tab-content">
  <!-- Booking Confirmation Message -->
  <div id="confirmationMessage" class="hidden mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
    <div class="flex items-center">
      <span class="text-green-600 mr-3">‚úîÔ∏è</span>
      <div>
        <h3 class="text-green-800 font-semibold">Appointment Request Submitted!</h3>
        <p class="text-green-700 text-sm mt-1">We will contact you within 24 hours to confirm your appointment.</p>
      </div>
    </div>
  </div>

  <!-- Booking Form -->
  <div class="max-w-2xl mx-auto bg-white p-4 sm:p-6 rounded-lg shadow-md border border-gray-200">
    <h1 class="text-2xl sm:text-3xl font-bold text-[#2563EB] mb-2 text-center">Book Your Appointment</h1>
    <p class="text-gray-600 text-center mb-6">Schedule your visit with our dental specialists</p>

    <form id="bookingForm" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
          <input type="text" name="fullName" placeholder="Enter your full name" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
          <input type="email" name="email" placeholder="Enter your email address" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent" required>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number *</label>
        <input type="tel" name="phone" placeholder="Enter your phone number" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent" required>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Service *</label>
        <select name="service" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent" required>
          <option value="">Select a service</option>
          <option value="general">General Dentistry</option>
          <option value="cosmetic">Cosmetic Dentistry</option>
          <option value="orthodontics">Orthodontics</option>
          <option value="surgery">Dental Surgery</option>
        </select>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Date *</label>
          <input type="date" name="date" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Time *</label>
          <input type="time" name="time" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent" required>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Reason for Visit</label>
        <textarea name="reason" rows="4" placeholder="Optional" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent resize-none"></textarea>
      </div>

      <button type="submit" class="w-full bg-[#2563EB] text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 flex items-center justify-center">
        Submit Appointment Request
      </button>
    </form>
  </div>
</div>

<!-- Reschedule Appointment Form -->
<div id="rescheduleTab" class="tab-content hidden">
  <!-- Reschedule Confirmation Message -->
  <div id="rescheduleConfirmation" class="hidden mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
    <div class="flex items-center">
      <span class="text-green-600 mr-3">‚úîÔ∏è</span>
      <div>
        <h3 class="text-green-800 font-semibold">Reschedule Request Submitted!</h3>
        <p class="text-green-700 text-sm mt-1">We will contact you soon to confirm your updated appointment.</p>
      </div>
    </div>
  </div>

  <div class="max-w-2xl mx-auto bg-white p-4 sm:p-6 rounded-lg shadow-md border border-gray-200">
    <h1 class="text-2xl sm:text-3xl font-bold text-[#2563EB] mb-2 text-center">Reschedule Your Appointment</h1>
    <p class="text-gray-600 text-center mb-6">Update your existing appointment details</p>

    <form id="rescheduleForm" class="space-y-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Appointment ID *</label>
        <input type="text" name="appointmentId" placeholder="Enter your appointment ID" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent form-input" required>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
        <input type="email" name="email" placeholder="Enter your email address" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent form-input" required>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">New Date *</label>
          <input type="date" name="date" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent form-input" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">New Time *</label>
          <input type="time" name="time" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent form-input" required>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Reason for Rescheduling</label>
        <textarea name="reason" rows="3" placeholder="Optional - Let us know why you need to reschedule" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent resize-none"></textarea>
      </div>

      <button type="submit" class="w-full bg-[#2563EB] text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 flex items-center justify-center">
        <span class="submit-text">Request Reschedule</span>
      </button>
    </form>
  </div>
</div>

<!-- SCRIPT -->
<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbw4cGD9UyDvvv1O1FoL6aDstitTgCGvm-xAlP08xkHNvDwvnlk6tOxF1RIJaiQFsn7z-w/exec";

  function showMessage(id) {
    const el = document.getElementById(id);
    el.classList.remove("hidden");
    setTimeout(() => {
      el.classList.add("hidden");
    }, 5000); // hide after 5 seconds
  }

  // Booking Form
  document.getElementById("bookingForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);

    fetch(scriptURL, { method: "POST", body: formData })
      .then(res => res.json())
      .then(data => {
        if (data.result === "success") {
          form.reset();
          showMessage("confirmationMessage");
        } else {
          alert("Something went wrong. Please try again.");
        }
      })
      .catch(err => {
        console.error(err);
        alert("Error connecting to server.");
      });
  });

  // Reschedule Form
  document.getElementById("rescheduleForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);

    fetch(scriptURL, { method: "POST", body: formData })
      .then(res => res.json())
      .then(data => {
        if (data.result === "success") {
          form.reset();
          showMessage("rescheduleConfirmation");
        } else {
          alert("Something went wrong. Please try again.");
        }
      })
      .catch(err => {
        console.error(err);
        alert("Error connecting to server.");
      });
  });
</script>
<!-- STICKY BOTTOM NAVBAR -->
<nav class="fixed bottom-0 left-0 w-full bg-[#E6F7F9] border-t border-gray-200 shadow-sm flex justify-around py-2 z-50 backdrop-blur-sm">
  <a href="index.html" id="homeBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>üè†</span><span class="text-xs mt-1">Home</span>
  </a>
  <a href="services.html" id="servicesBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>ü¶∑</span><span class="text-xs mt-1">Services</span>
  </a>
  <a href="community.html" id="communityBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>ü§ù</span><span class="text-xs mt-1">Community</span>
  </a>
  <a href="#bookTab" id="bookBtn" class="nav-btn flex flex-col items-center text-gray-700 hover:text-[#2563EB] transition">
    <span>üóìÔ∏è</span><span class="text-xs mt-1">Book Now</span>
  </a>
</nav>

<script>
// ====== Tabs JS ======
const tabButtons = document.querySelectorAll('.tab-btn');
const tabContents = document.querySelectorAll('.tab-content');

tabButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    const target = btn.getAttribute('data-tab');

    tabContents.forEach(tc => tc.classList.add('hidden'));
    tabButtons.forEach(b => b.classList.remove('border-blue-600', 'text-blue-600'));

    document.getElementById(target).classList.remove('hidden');
    btn.classList.add('border-blue-600', 'text-blue-600');
  });
});

// Activate first tab by default
tabButtons[0].click();

// ====== Booking Form ======
const bookingForm = document.getElementById('bookingForm');
const confirmationDiv = document.getElementById('confirmationMessage');
bookingForm.addEventListener('submit', function(e){
  e.preventDefault();
  confirmationDiv.style.display = 'block';
  window.scrollTo({ top: 0, behavior: 'smooth' });
  bookingForm.reset();
  setTimeout(() => confirmationDiv.style.display = 'none', 5000);
});

// ====== Reschedule Form ======
const rescheduleForm = document.getElementById('rescheduleForm');
if(rescheduleForm){
  const rescheduleDateInput = rescheduleForm.querySelector('input[name="date"]');
  const today = new Date().toISOString().split('T')[0];
  rescheduleDateInput.setAttribute('min', today);

  rescheduleForm.addEventListener('submit', function(e){
    e.preventDefault();
    if(validateRescheduleForm()) submitRescheduleForm();
  });

  const inputs = rescheduleForm.querySelectorAll('.form-input');
  inputs.forEach(input => input.addEventListener('blur', function(){ validateField(this); }));
}

function validateRescheduleForm(){
  let isValid = true;
  const form = document.getElementById('rescheduleForm');
  const appointmentId = form.querySelector('input[name="appointmentId"]');
  const email = form.querySelector('input[name="email"]');
  const date = form.querySelector('input[name="date"]');
  const time = form.querySelector('input[name="time"]');

  if(!appointmentId.value.trim()){ showError(appointmentId,'appointmentIdError','Appointment ID is required'); isValid=false; } else hideError(appointmentId,'appointmentIdError');
  if(!validateEmail(email.value)){ showError(email,'emailError','Please enter a valid email'); isValid=false; } else hideError(email,'emailError');
  if(!date.value){ showError(date,'dateError','Please select a date'); isValid=false; } else hideError(date,'dateError');
  if(!time.value){ showError(time,'timeError','Please select a time'); isValid=false; } else hideError(time,'timeError');
  return isValid;
}

function validateField(field){
  const errorId = field.name+'Error';
  if(field.name==='email' && field.value && !validateEmail(field.value)){ showError(field,errorId,'Please enter a valid email'); return false; }
  if(!field.value){ showError(field,errorId,'This field is required'); return false; }
  hideError(field,errorId);
  return true;
}

function showError(input,errorId,msg){
  input.classList.add('border-red-500');
  const err = document.getElementById(errorId);
  if(err){ err.textContent=msg; err.style.display='block'; }
}
function hideError(input,errorId){
  input.classList.remove('border-red-500');
  const err = document.getElementById(errorId);
  if(err) err.style.display='none';
}

function validateEmail(email){ return /^\S+@\S+\.\S+$/.test(email); }

function submitRescheduleForm(){
  const form = document.getElementById('rescheduleForm');
  const submitButton = form.querySelector('button[type="submit"]');
  const spinner = submitButton.querySelector('.spinner');
  const submitText = submitButton.querySelector('.submit-text');

  spinner.classList.remove('hidden');
  submitText.textContent = 'Processing...';
  submitButton.disabled=true;

  setTimeout(()=>{
    spinner.classList.add('hidden');
    submitText.textContent='Request Reschedule';
    submitButton.disabled=false;
    alert('‚úÖ Reschedule request submitted! We will contact you to confirm your new appointment time.');
    form.reset();
  },1500);
}
</script>

</body>
</html>
